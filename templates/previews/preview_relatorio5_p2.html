<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Análise Temporal - Caixa Acumulado</title>
  <style>
    /* Variáveis de configuração */
    :root {
      --chart-height: 300px;
      --bar-width: 40px;
      --bar-gap: 60px;
      --max-value: 300000; /* ajuste conforme o maior valor */
      --average-value: 72362.69;
    }

    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    .chart {
      max-width: 600px;
      margin: auto;
    }

    .chart__title {
      text-align: center;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .chart__frame {
      position: relative;
      height: var(--chart-height);
      border-left: 1px solid #ccc;
      border-bottom: 1px solid #ccc;
      padding-left: 40px;
    }

    /* Linha de média pontilhada */
    .chart__average {
      position: absolute;
      bottom: calc(var(--average-value) / var(--max-value) * 100%);
      left: 0;
      right: 0;
      border-top: 1px dashed #666;
    }
    .chart__average-label {
      position: absolute;
      bottom: calc(var(--average-value) / var(--max-value) * 100%) ;
      right: -10px;
      background: #fff;
      padding: 2px 5px;
      font-size: 0.8rem;
      color: #666;
    }

    /* Barras */
    .chart__bars {
      position: absolute;
      bottom: 0;
      left: 40px;
      display: flex;
      gap: var(--bar-gap);
    }
    .chart__bar {
      --value-percent: calc(var(--value) / var(--max-value) * 100%);
      width: var(--bar-width);
      height: var(--value-percent);
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-bottom: 5px;
      color: #fff;
      font-size: 0.75rem;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
    }
    .chart__bar--positive {
      background-color: #2a9d8f;
    }
    .chart__bar--negative {
      background-color: #e76f51;
    }

    /* Linha e pontos do acumulado */
    .chart__line {
      position: absolute;
      bottom: 0;
      left: 40px;
      width: calc(100% - 40px);
      height: var(--chart-height);
      pointer-events: none;
    }
    .chart__line svg {
      width: 100%;
      height: 100%;
    }
    .chart__point {
      fill: #000;
    }
    .chart__line-path {
      fill: rgba(128,128,128,0.15);
      stroke: none;
    }
    .chart__line-stroke {
      fill: none;
      stroke: #555;
      stroke-width: 2;
    }
    .chart__line-label {
      font-size: 0.75rem;
      fill: #000;
      text-anchor: middle;
    }

    /* Rótulos de mês */
    .chart__labels {
      display: flex;
      justify-content: flex-start;
      gap: var(--bar-gap);
      margin-top: 5px;
      padding-left: 40px;
      font-size: 0.85rem;
    }
  </style>
</head>
<body>
  <div class="chart">
    <h2 class="chart__title">Análise Temporal - Caixa Acumulado</h2>
    <div class="chart__frame">
      <div class="chart__average"></div>
      <div class="chart__average-label">R$ 72.362,69</div>

      <div class="chart__bars">
        <!-- Jan/25 -->
        <div class="chart__bar chart__bar--positive" style="--value: 227413.02;">
          R$ 227.413,02
        </div>
        <!-- Feb/25 -->
        <div class="chart__bar chart__bar--negative" style="--value: 48153.00;">
          R$ 48.153,00
        </div>
        <!-- Mar/25 -->
        <div class="chart__bar chart__bar--positive" style="--value: 83828.08;">
          R$ 83.828,08
        </div>
      </div>

      <div class="chart__line">
        <svg viewBox="0 0 300 300" preserveAspectRatio="none">
          <!-- Área sob a curva -->
          <path class="chart__line-path" d="M20,50 L140,130 L260,60 L260,0 L20,0 Z"></path>
          <!-- Linha de tendência -->
          <polyline class="chart__line-stroke" points="20,50 140,130 260,60"></polyline>
          <!-- Pontos e labels -->
          <circle class="chart__point" cx="20" cy="50" r="4"></circle>
          <text class="chart__line-label" x="20" y="30">R$ 227.413,02</text>

          <circle class="chart__point" cx="140" cy="130" r="4"></circle>
          <text class="chart__line-label" x="140" y="150">R$ 133.259,99</text>

          <circle class="chart__point" cx="260" cy="60" r="4"></circle>
          <text class="chart__line-label" x="260" y="40">R$ 217.088,07</text>
        </svg>
      </div>
    </div>
    <div class="chart__labels">
      <span>Jan/25</span>
      <span>Fev/25</span>
      <span>Mar/25</span>
    </div>
  </div>
</body>
</html>
