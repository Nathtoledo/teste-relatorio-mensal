<!-- templates/indice/template.html -->
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Índice</title>
    <style>
      /* Importa fontes Inter, Poppins e Ruda */
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@400;600;700&family=Ruda:wght@400;500;600;700&display=swap');
      body {
        font-family: 'Inter', sans-serif;
        margin: 0;
        padding: 0;
      }
      
      /* Cor do nome do relatório e período */
      .report-name {
        color: #a5a5a5;
      }
      .report-period {
        color: #a5a5a5;
      }
      
      /* Barra laranja acima do cabeçalho */
      .header-accent {
        width: 100px;
        height: 6px;
        background-color: #ff6900;
        margin: 0 0 4px 1px;
        border-radius: 3px 3px 0 0;
      }
      
      /* Linha abaixo da barra */
      .report-header {
        border-top: 1px solid #d9d9d9;
        margin: 0 0 8px 0;
      }
      
      /* Container do nome e período */
      .report-header-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        font-size: 14px;
        margin: 60px 0 16px;
        padding: 0 16mm;
        white-space: nowrap;
      }
      
      /* Wrapper do cabeçalho */
      .header-wrapper {
        position: relative;
        margin-bottom: 16px;
      }
      
      /* Logo de fundo com opacidade */
      .logo-bg {
        position: absolute;
        top: 28mm;
        left: 15%;
        transform: translateX(-50%);
        z-index: 1;
        margin: 0 auto; /* Centraliza */
      }
      .logo-bg img {
        width: 100px;
        height: 120px;
        object-fit: contain;
      }
      
      /* Garante que elementos do cabeçalho fiquem acima do logo de fundo */
      .header-accent,
      .report-header,
      .report-header-info {
        position: relative;
        z-index: 0;
      }
      
      /* Título principal das seções */
      .section-title {
        font-family: 'Poppins', sans-serif;
        font-size: 44px;
        font-weight: 700;
        color: #404040;
        margin: 40px 0 5px;
        padding-left: 87mm;
      }

      #fc {
        margin: 75px 0 5px;
  
      }
      
      /* Container dos itens numerados */
      .section-list {
        padding-left: 87mm;
        margin-bottom: 30px;
      }
      
      /* Item individual do índice */
      .section-item {
        display: table;
        width: 100%;
        margin-bottom: 16px;
      }
      
      /* Número do item */
      .item-number {
        display: table-cell;
        vertical-align: top;
        width: 53px;
        font-family: 'Ruda', sans-serif;
        font-size: 25px;
        font-weight: 100;
        color: #a6a6a6;
        padding-right: 10px;
      }
      
      /* Textos do item */
      .item-texts {
        display: table-cell;
        vertical-align: top;
      }
      
      /* Título do item */
      .item-title {
        font-family: 'Ruda', sans-serif;
        font-size: 18px;
        font-weight: 100;
        color: #7f7f7f;
        margin-bottom: -1px;
        margin-top: 5px;
      }
      
      /* Subtítulo do item */
      .item-subtitle {
        font-family: 'Inter', sans-serif;
        font-size: 11px;
        font-weight: 400;
        color: #7f7f7f;
        margin-top: 2px;
      }
    </style>
  </head>
  <body>
    <!-- Cabeçalho com logo de fundo, barra laranja e informações -->
    <div class="header-wrapper">
      <div class="logo-bg">
        <img src="data:image/png;base64,{{ logo_png_b64 }}" alt="Logo IZE" />
      </div>
      <div class="header-accent"></div>
      <div class="report-header"></div>
      <table style="width:100%; border-collapse:collapse; margin:4px 0 16px;">
        <tr>
          <td class="report-name" style="padding:0; text-align:left; font-size:14px;">{{ data.nome }}</td>
          <td class="report-period" style="padding:0; text-align:right; font-size:14px;">{{ data.Periodo }}</td>
        </tr>
      </table>
    </div>

    <!-- Variável para manter contagem do número do item -->
    {% set count = namespace(value=1) %}

    <!-- Seção Fluxo de Caixa -->
    {% if data.fluxo_caixa == 'Sim' %}
      <div class="section-title" id="fc">Fluxo de Caixa</div>
      <div class="section-list">
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Análise de Fluxo de Caixa 1</div>
            <div class="item-subtitle">Análise de receitas e custos variáveis</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
        
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Análise de Fluxo de Caixa 2</div>
            <div class="item-subtitle">Análise de lucro bruto e despesas fixas</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
        
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Análise de Fluxo de Caixa 3</div>
            <div class="item-subtitle">Análise de lucro operacional e investimentos</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
        
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Análise de Fluxo de Caixa 4</div>
            <div class="item-subtitle">Análise de lucro líquido e resultados não operacionais</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
        
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Fechamento de Fluxo de Caixa</div>
            <div class="item-subtitle">Análise de geração de caixa e geração temporal de caixa</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
      </div>
    {% endif %}

    <!-- Seção DRE -->
    {% if data.dre_gerencial == 'Sim' %}
      <div class="section-title">DRE Gerencial</div>
      <div class="section-list">
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Análise por Competência - DRE</div>
            <div class="item-subtitle">Demonstrativo do resultado de exercício</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
      </div>
    {% endif %}

    <!-- Seção Indicadores -->
    {% if data.indicador == 'Sim' %}
      <div class="section-title">Indicadores</div>
      <div class="section-list">
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Indicadores</div>
            <div class="item-subtitle">Análise dos indicadores gerais</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
      </div>
    {% endif %}

    <!-- Seção Nota do Consultor -->
    {% if data.nota_consultor == 'Sim' %}
      <div class="section-title">Nota do Consultor</div>
      <div class="section-list">
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Parecer Técnico</div>
            <div class="item-subtitle">Nota manual do consultor</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
      </div>
    {% endif %}

    <!-- Seção Marca -->
    {% if data.marca == 'Sim' %}
      <div class="section-title">Marca</div>
      <div class="section-list">
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Redes Sociais</div>
            <div class="item-subtitle">Instagram, LinkedIn e Blog</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
        
        <div class="section-item">
          <span class="item-number">{{ "%02d"|format(count.value) }}</span>
          <div class="item-texts">
            <div class="item-title">Redes Sociais</div>
            <div class="item-subtitle">YouTube e ZNews</div>
          </div>
        </div>
        {% set count.value = count.value + 1 %}
      </div>
    {% endif %}
  </body>
</html>
